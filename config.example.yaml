# Media Janitor Configuration
# Copy this to config.yaml and fill in your values

radarr:
  - name: "radarr"
    url: "http://192.168.1.X:7878"
    api_key: "RADARR_API_KEY"
    path_mappings:
      - from_path: "/movies"
        to_path: "/mnt/remotes/192.168.1.5_video/Movies"
      - from_path: "/kids"
        to_path: "/mnt/remotes/192.168.1.5_video/Kids Stuff/Movies"
      - from_path: "/google"
        to_path: "/mnt/remotes/192.168.1.5_video"

sonarr:
  - name: "sonarr-main"
    url: "http://192.168.1.X:8989"
    api_key: "SONARR1_API_KEY"
    path_mappings:
      - from_path: "/tv"
        to_path: "/mnt/remotes/192.168.1.2_video/TV"
      - from_path: "/kids"
        to_path: "/mnt/remotes/192.168.1.2_video/Kids Stuff/TV"
      - from_path: "/google"
        to_path: "/mnt/remotes/192.168.1.2_video"

  - name: "sonarr-2"
    url: "http://192.168.1.X:8990"
    api_key: "SONARR2_API_KEY"
    path_mappings:
      - from_path: "/tv"
        to_path: "/mnt/remotes/192.168.1.2_video/TV"
      - from_path: "/kids"
        to_path: "/mnt/remotes/192.168.1.2_video/Kids Stuff/TV"
      - from_path: "/google"
        to_path: "/mnt/remotes/192.168.1.2_video"

# Validation settings
validation:
  check_duration_sanity: true
  max_duration_hours: 12

  check_bitrate: true
  min_bitrate_720p: 1500   # kbps
  min_bitrate_1080p: 3000  # kbps
  min_bitrate_4k: 8000     # kbps

  # Decode test - checks start/middle/end of file for corruption
  deep_scan_enabled: true
  sample_duration_seconds: 30

  # Full decode - very slow, only enable if you have CPU to spare
  full_decode_enabled: false

# Background scanner
scanner:
  enabled: true
  files_per_hour: 100
  # "watch_only" = scan once, then only validate new imports
  # "continuous" = keep re-scanning forever
  mode: "watch_only"
  # When to refresh TV library (cron format, slow operation)
  # Default: 3am daily. Movies load on startup, TV loads on this schedule.
  tv_refresh_schedule: "0 3 * * *"

# Actions
actions:
  auto_replace: true
  blocklist_bad_releases: true
  max_replacements_per_day: 10

# Email - daily summary at 8 AM
email:
  enabled: true
  smtp_host: "smtp.gmail.com"
  smtp_port: 587
  smtp_user: "you@gmail.com"
  smtp_password: "YOUR_GMAIL_APP_PASSWORD"
  from_address: "you@gmail.com"
  to_address: "you@gmail.com"
  daily_summary_time: "08:00"

# Logging
logging:
  level: "INFO"
  file: "/data/logs/media-janitor.log"
